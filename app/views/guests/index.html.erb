<h1 class="mt-5 mb-5">Guests</h1>

<p id="notice" class="text-center"><%= notice %></p>

<div class="container">
  <div id="downloads" class="d-flex justify-content-center">
     <div class="csv-download all-guests">
      <p>All Guest list</p>
      <%= link_to csv_download_path(download: "all-guests") do %>
        <button class="btn">Download</button>
      <% end %>
    </div>
    <div class="csv-download yes-guests">
      <p>Guests who RSVP "Yes"</p>
      <%= link_to csv_download_path(download: "yes-guests"), remote: true do %>
        <button class="btn">Download</button>
      <% end %>
    </div>
     <div class="csv-download unknown-guests">
      <p>Guests who didn't RSVP</p>
      <%= link_to csv_download_path(download: "unknown-guests") do %>
        <button class="btn">Download</button>
      <% end %>
    </div>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th>First name</th>
        <th>Last name</th>
        <th>Email</th>
        <th>RSVP</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @guests.each do |guest| %>
        <tr>
          <td><%= guest.first_name %></td>
          <td><%= guest.last_name %></td>
          <td><%= guest.email %></td>
          <td>
              <% if guest.status %>
                Yes
              <% elsif guest.status == false %>
                No
              <% end %>
                
          </td>
          <td class="text-center"><%= link_to 'Modify Reservation', edit_guest_path(guest) %></td>
          <td><%= link_to '<i class="fas fa-trash-alt"></i>'.html_safe, guest, method: :delete, data: { confirm: 'Are you sure?' }%></td>
        </tr>
      <% end %>
    </tbody>
  </table>

</div>


